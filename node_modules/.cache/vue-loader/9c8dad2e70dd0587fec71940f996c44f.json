{"remainingRequest":"C:\\Vue\\mbp2_front\\front-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Vue\\mbp2_front\\front-vue\\src\\components\\community\\ReplyForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Vue\\mbp2_front\\front-vue\\src\\components\\community\\ReplyForm.vue","mtime":1645615732300},{"path":"C:\\Vue\\mbp2_front\\front-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646637259658},{"path":"C:\\Vue\\mbp2_front\\front-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1646637261560},{"path":"C:\\Vue\\mbp2_front\\front-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646637259658},{"path":"C:\\Vue\\mbp2_front\\front-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1646637261903}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWxldGVSZXBseUFQSSwgdXBkYXRlUmVwbHlBUEkgfSBmcm9tICcuLi8uLi9hcGkvaW5kZXgnOw0KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIHJlcGx5OiBPYmplY3QsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGVkaXRNb2RlOiBmYWxzZSwNCiAgICAgIGVkaXRDb250ZW50OiAnJywNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKCdhdXRoJywgWydpZCddKSwNCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KICAgIGNvbnNvbGUubG9nKCd6enp6eicsIHRoaXMucmVwbHkpOw0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBkZWxldGVkUmVwbHkoKSB7DQogICAgICBpZiAoY29uZmlybSgn64yT6riA7J2EIOyCreygnO2VmOyLnOqyoOyKteuLiOq5jD8nKSkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgIGF3YWl0IGRlbGV0ZVJlcGx5QVBJKHsNCiAgICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgICBib2FyZF9udW06IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwNCiAgICAgICAgICAgICAgcmVwbHlfbnVtOiB0aGlzLnJlcGx5LnJlcGx5X251bSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NvbW11bml0eS9jb21tdW5pdHlEZXRhaWwnLCB7DQogICAgICAgICAgICBib2FyZF9udW06IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSBjYXRjaCAobWVzc2FnZSkgew0KICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBvbkVkaXRNb2RlKCkgew0KICAgICAgdGhpcy5lZGl0Q29udGVudCA9IHRoaXMucmVwbHkuY29udGVudDsNCiAgICAgIHRoaXMuZWRpdE1vZGUgPSB0cnVlOw0KICAgIH0sDQogICAgb2ZmRWRpdE1vZGUoKSB7DQogICAgICB0aGlzLmVkaXRNb2RlID0gZmFsc2U7DQogICAgfSwNCiAgICBhc3luYyByZXBseUVkaXQoKSB7DQogICAgICBpZiAodGhpcy5yZXBseS5jb250ZW50ICE9IHRoaXMuZWRpdENvbnRlbnQpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBhd2FpdCB1cGRhdGVSZXBseUFQSSh7DQogICAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgICAgYm9hcmRfbnVtOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsDQogICAgICAgICAgICAgIHJlcGx5X251bTogdGhpcy5yZXBseS5yZXBseV9udW0sDQogICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuZWRpdENvbnRlbnQsDQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjb21tdW5pdHkvY29tbXVuaXR5RGV0YWlsJywgew0KICAgICAgICAgICAgYm9hcmRfbnVtOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsDQogICAgICAgICAgfSk7DQogICAgICAgIH0gY2F0Y2ggKG1lc3NhZ2UpIHsNCiAgICAgICAgICBhbGVydChtZXNzYWdlKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5vZmZFZGl0TW9kZSgpOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["ReplyForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReplyForm.vue","sourceRoot":"src/components/community","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 수정모드 -->\r\n    <div v-if=\"editMode\">\r\n      <el-card>\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span style=\"float: left\">{{ reply.id }}</span\r\n          ><br />\r\n        </div>\r\n\r\n        <el-input\r\n          type=\"textarea\"\r\n          placeholder=\"댓글을 수정하세요\"\r\n          class=\"input\"\r\n          style=\"width: 95%\"\r\n          v-model=\"editContent\"\r\n        >\r\n        </el-input>\r\n\r\n        <br />\r\n        <el-button\r\n          style=\"float: right; padding: 1%\"\r\n          type=\"text\"\r\n          @click=\"replyEdit\"\r\n          >댓글 수정</el-button\r\n        >\r\n      </el-card>\r\n    </div>\r\n\r\n    <!-- 수정모드아닐때 -->\r\n    <div v-else>\r\n      <el-card>\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span style=\"float: left\">{{ reply.id }}</span\r\n          ><br />\r\n          <div v-if=\"id === reply.id\">\r\n            <el-button\r\n              style=\"float: right; padding: 3px 0\"\r\n              type=\"text\"\r\n              @click=\"onEditMode\"\r\n              >수정하기</el-button\r\n            >\r\n            <el-button\r\n              style=\"float: right; padding: 3px 0; margin-right: 30px\"\r\n              type=\"text\"\r\n              @click=\"deletedReply\"\r\n              >삭제하기</el-button\r\n            >\r\n          </div>\r\n          <br />\r\n        </div>\r\n        <div style=\"float: left; white-space: pre-line; text-align: left\">\r\n          {{ reply.content }}\r\n        </div>\r\n        <div style=\"text-align: right\">{{ reply.created_at }}</div>\r\n        <br />\r\n      </el-card>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { deleteReplyAPI, updateReplyAPI } from '../../api/index';\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  props: {\r\n    reply: Object,\r\n  },\r\n  data() {\r\n    return {\r\n      editMode: false,\r\n      editContent: '',\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('auth', ['id']),\r\n  },\r\n\r\n  created() {\r\n    console.log('zzzzz', this.reply);\r\n  },\r\n\r\n  methods: {\r\n    async deletedReply() {\r\n      if (confirm('댓글을 삭제하시겠습니까?')) {\r\n        try {\r\n          await deleteReplyAPI({\r\n            params: {\r\n              board_num: this.$route.params.id,\r\n              reply_num: this.reply.reply_num,\r\n            },\r\n          });\r\n          this.$store.dispatch('community/communityDetail', {\r\n            board_num: this.$route.params.id,\r\n          });\r\n        } catch (message) {\r\n          alert(message);\r\n        }\r\n      }\r\n    },\r\n    onEditMode() {\r\n      this.editContent = this.reply.content;\r\n      this.editMode = true;\r\n    },\r\n    offEditMode() {\r\n      this.editMode = false;\r\n    },\r\n    async replyEdit() {\r\n      if (this.reply.content != this.editContent) {\r\n        try {\r\n          await updateReplyAPI({\r\n            params: {\r\n              board_num: this.$route.params.id,\r\n              reply_num: this.reply.reply_num,\r\n              content: this.editContent,\r\n            },\r\n          });\r\n          this.$store.dispatch('community/communityDetail', {\r\n            board_num: this.$route.params.id,\r\n          });\r\n        } catch (message) {\r\n          alert(message);\r\n        }\r\n      }\r\n      this.offEditMode();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]}]}